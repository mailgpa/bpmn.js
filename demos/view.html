<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<title>bpmn.js</title>
		<link rel="stylesheet" href="style.css" media="screen">

		<script src="lib/raphael.js" type="text/javascript"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.7.2/dojo/dojo.js" data-dojo-config="async: true, parseOnLoad: true"></script>
		<script>
		require({
				baseUrl: "./",
				packages: [
					{ name: "dojo", location: "//ajax.googleapis.com/ajax/libs/dojo/1.7.2/dojo" },
					{ name: "dojox", location: "//ajax.googleapis.com/ajax/libs/dojo/1.7.2/dojox" },
					{ name: "dijit", location: "//ajax.googleapis.com/ajax/libs/dojo/1.7.2/dijit" },
					{ name: "bpmn", location: "bpmn", main: "core" }
				]
		});
		</script>
		<script>
			require(["bpmn/core", "bpmn/editor", "dojo/domReady!"], function(bpmn, editor) {
			    editor.initDropZone("drop_zone");
			    bpmn.parse("test/collaboration.bpmn", function() {
				    bpmn.highlight(["ServiceTask_1"], {"color" : "red"});
			    }, {
			    	diagramElement: "diagram", 
			    	clickFn : function (elem) {
			    		alert(JSON.stringify(elem));
			    	}
			    });
			});
		</script>
	</head>
	<body>
		<div id="drop_zone">Drop BPMN 2.0 XML here</div>
		<div id="wrapper" style="overflow: scroll; height: 500px; width: 1000px">
			<div id="diagram"></div>
		</div>
	</body>
</html>
